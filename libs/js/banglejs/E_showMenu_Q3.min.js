(function(l){function w(a,b){var h=a.step||1;if(!a.noList&&void 0!==a.min&&void 0!==a.max&&20>(a.max-a.min)/h)E.showScroller({h:40,c:(a.max+h-a.min)/h,back:q,remove:k.remove,scrollMin:-24,scroll:-24,draw:(e,c)=>{if(0>e)return g.setFont("12x20").setFontAlign(-1,0).drawString("\x00\f\f\u0081\x00\u00ff\u00ff\u00ff\x00\x00\x00\x00\u000f\u00ff\u00ff\u00f0\x00\x00\x00\x00\u00ff\u00ff\u00ff "+b,c.x+12,c.y+40-12);g.setColor(g.theme.bg2).fillRect({x:c.x+4,y:c.y+2,w:c.w-8,h:c.h-4,r:5});
e=e*h+a.min;g.setColor(g.theme.fg2).setFont("12x20").setFontAlign(-1,0).drawString(a.format?a.format(e,1):e,c.x+12,c.y+20);g.drawImage(atob(e==a.value?"FBSBAAH4AH/gHgeDgBww8MY/xmf+bH/jz/88//PP/zz/88f+Nn/mY/xjDww4AcHgeAf+AB+A":"FBSBAAH4AH/gHgeDgBwwAMYABmAAbAADwAA8AAPAADwAA8AANgAGYABjAAw4AcHgeAf+AB+A"),c.x+c.w-32,c.y+20-10)},select:function(e){if(!(0>e)){Bangle.buzz(20);a.value=a.min+e*h;if(a.onchange)a.onchange(a.value);r.scroll=m.scroller.scroll;q()}}});else{var d=Bangle.appRect,f=a.value;g.reset().clearRect(Bangle.appRect);
g.setFont("12x20").setFontAlign(0,0).drawString("\x00\f\f\u0081\x00\u00ff\u00ff\u00ff\x00\x00\x00\x00\u000f\u00ff\u00ff\u00f0\x00\x00\x00\x00\u00ff\u00ff\u00ff "+b,d.x+d.w/2,d.y+12);function e(){var c=d.x+d.w/2,n=12+d.y+d.h/2,u=a.format?a.format(f,2):f;g.reset().setColor(g.theme.bg2).fillRect({x:d.x+24,y:d.y+36,w:d.w-48,h:d.h-48,r:5});g.setColor(g.theme.fg2).setFontVector(Math.min(30,100*(d.w-52)/g.setFontVector(100).stringWidth(u))).setFontAlign(0,0).drawString(u,c,n);g.fillPoly([c,n-45,c+15,n-30,
c-15,n-30]).fillPoly([c,n+45,c+15,n+30,c-15,n+30])}e();Bangle.setUI({mode:"updown",back:q,remove:k.remove},c=>{if(c)f-=(c||1)*(a.step||1),void 0!==a.min&&f<a.min&&(f=a.wrap?a.max:a.min),void 0!==a.max&&f>a.max&&(f=a.wrap?a.min:a.max),e();else{a.value=f;if(a.onchange)a.onchange(a.value);r.scroll=m.scroller.scroll;q()}})}}function q(){m.scroller=E.showScroller(r)}if(void 0===l)return g.clearRect(Bangle.appRect),Bangle.setUI();var k=l[""]||{};k.title||(k.title="Menu");var t=k.back||l["< Back"],p=Object.keys(l).filter(a=>
""!==a&&"< Back"!=a);p.forEach(a=>{a=l[a];"object"!=typeof a||"boolean"!=typeof a.value||a.format||(a.format=b=>"\x00"+atob(b?"EhKBAH//v/////////////5//x//j//H+eP+Mf/A//h//z//////////3//g":"EhKBAH//v//8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA///3//g"))});var m={draw:()=>m.scroller.draw(),scroller:void 0};let v;var r={h:40,c:p.length,scrollMin:-24,scroll:null!=(v=k.scroll)?v:-24,back:t,remove:k.remove,draw:(a,b)=>{if(0>a)return g.setColor(g.theme.fg).setFont("12x20").setFontAlign(-1,0).drawString("\x00\f\f\u0081\x00\u00ff\u00ff\u00ff\x00\x00\x00\x00\u000f\u00ff\u00ff\u00f0\x00\x00\x00\x00\u00ff\u00ff\u00ff "+
k.title,b.x+12,b.y+40-12);g.setColor(g.theme.bg2).fillRect({x:b.x+4,y:b.y+2,w:b.w-8,h:b.h-4,r:5});g.setColor(g.theme.fg2).setFont("12x20");var h=24,d=l[p[a]];if("object"==typeof d){var f=d.value;d.format&&(f=d.format(f));g.stringMetrics(f).width>b.w/2&&(f=g.wrapString(f,b.w/2).join("\n"));g.setFontAlign(1,0).drawString(f,b.x+b.w-8,b.y+20);h+=g.stringWidth(f)}else"function"==typeof d&&(g.drawImage(atob("CRKBAGA4Hg8DwPB4HgcDg8PB4eHg8HAwAA=="),b.x+b.w-21,b.y+20-9),h+=16);var e;a=null!=(e=d&&d.title)?
e:p[a];e=g.wrapString(a,b.w-h);1<e.length&&(e=g.setFont("6x15").wrapString(a,b.w-h));g.setFontAlign(-1,0).drawString(e.join("\n"),b.x+12,b.y+20)},select:function(a){if(0>a)return t&&t();var b=l[p[a]];Bangle.buzz(20);if("function"==typeof b)b(m);else if("object"==typeof b)if("number"==typeof b.value)w(b,p[a]);else{"boolean"==typeof b.value&&(b.value=!b.value);if(b.onchange)b.onchange(b.value);m.scroller.drawItem(a)}}};q();return m})